{% extends "stats/base.html" %}
{% block title %}Answered{% endblock %}
{% block body %}
<section class="radix-card p-4 mb-4">
  <form method="get" class="filters-grid grid grid-cols-1 md:grid-cols-6 gap-3">
    <input name="start" value="{{ default_start }}" class="radix-input" />
    <input name="end" value="{{ default_end }}" class="radix-input" />
    <select name="queues" multiple class="radix-input radix-select-multi">
      {% for q in queues %}<option value="{{ q }}"{% if q in selected_queues_list %} selected{% endif %}>{{ q }}</option>{% endfor %}
    </select>
    <select name="agents" multiple class="radix-input radix-select-multi">
      {% for a in agents %}<option value="{{ a.agent }}"{% if a.agent in selected_agents_list %} selected{% endif %}>{{ a.agent }}{% if a.name %} ({{ a.name }}){% endif %}</option>{% endfor %}
    </select>
    <select name="page_size" class="radix-input">
      <option value="50"{% if selected_page_size == "50" %} selected{% endif %}>50 / page</option>
      <option value="100"{% if selected_page_size == "100" %} selected{% endif %}>100 / page</option>
      <option value="200"{% if selected_page_size == "200" %} selected{% endif %}>200 / page</option>
      <option value="500"{% if selected_page_size == "500" %} selected{% endif %}>500 / page</option>
    </select>
    <button class="radix-button" type="submit">{% tr "Обновить" %}</button>
  </form>
  <div class="flex flex-wrap gap-2 mt-3">
    <a class="radix-button-secondary" href="{% url 'ui-export-answered-xlsx' %}?start={{ default_start }}&end={{ default_end }}&queues={{ selected_queues }}&agents={{ selected_agents }}">XLSX</a>
    <a class="radix-button-secondary" href="{% url 'ui-export-answered-pdf' %}?start={{ default_start }}&end={{ default_end }}&queues={{ selected_queues }}&agents={{ selected_agents }}">PDF</a>
  </div>
</section>
<section class="radix-card p-4">{% include "stats/partials/answered_report.html" %}</section>
{% endblock %}
